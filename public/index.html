<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title><%= htmlWebpackPlugin.options.title %></title>
  <meta name="referrer" content="origin">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@manuscriptsapp">
  <meta name="twitter:creator" content="@mz2">
  <meta property="og:url" content="<%= htmlWebpackPlugin.options.url %>">
  <meta property="og:title" content="<%= htmlWebpackPlugin.options.title %>">
  <meta property="og:description" content="A simple, open writing tool for complex documents">
  <meta property="og:image" content="<%= htmlWebpackPlugin.options.url %>/screenshot.png">

  <style>body{margin:0}</style>

  <!-- feature support message -->
  <style>.support {color:#f00;background:#fff;padding:20px;position:fixed;bottom:0;left:0;right:0;text-align:center;z-index:100}</style>

  <!-- loader -->
  <style>.loader{width:100vw;height:100vh;background:#fff;color:#444;font-family:sans-serif;font-size:24px;display:flex;justify-content:center;align-items:center}</style>

  <!-- loader animation -->
  <style>@keyframes brighten { 0%, 100% { filter:grayscale(0%) } 50% { filter:grayscale(50%) }}</style>
  <style>.loader svg{ animation: brighten 3s infinite }</style>

</head>
<body>

<!-- Google Analytics (async) -->
<% if (htmlWebpackPlugin.options.analytics){ %>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<% } %>

<!-- noscript -->
<noscript>
  <div class="support">You need to enable JavaScript to run this app.</div>
</noscript>

<!-- Crisp -->
<% if (htmlWebpackPlugin.options.crisp){ %>
<script>
  window.CRISP_WEBSITE_ID = "<%= htmlWebpackPlugin.options.crisp %>";
  window.$crisp = [['safe', true], ['do', 'chat:hide']];
</script>
<script async src="https://client.crisp.chat/l.js"></script>
<% } %>

<!--[if IE]>
<div class="support" style="z-index:101;">Internet Explorer is not supported - please use a newer browser.</div>
<![endif]-->

<!-- main container -->
<div id="root">
  <div class="loader">
    <!-- app icon -->
    <svg width="134" height="134"><g fill="none" fill-rule="nonzero"><path fill="#FE8F1F" d="M95 115H58l10 16 27-16z"/><path fill="#2781A1" d="M21 51l19-32h37L68 3 12 35l9 16z"/><path fill="#FE8F1F" d="M114 83l-19 32 28-16-9-16z"/><path fill="#48BEE7" d="M40 19L21 51l19 32V19zM40 19l55 32-18-32H40z"/><path fill="#F35143" d="M123 67V35L68 3l9 16h18l28 48-9 16 9 16V67z"/><path fill="#8DD439" d="M12 35v32l9-16-9-16zM12 67v32l28 16-28-48zM58 115H40l28 16z"/><path fill="#F474AE" d="M95 51l19 32 9-16-28-48H77z"/><path fill="#36B260" d="M58 115L21 51l-9 16 28 48z"/><path fill="#FFBD26" d="M95 115L40 83l18 32zM114 83L95 51v64z"/></g></svg>
  </div>
</div>

<!-- other containers -->
<div id="menu"></div>
<div id="notifications"></div>
<div id="size"></div>

<% if (htmlWebpackPlugin.options.featureTest) { %>
<!-- feature support -->
<div class="support" id="feature-support" style="display:none">Some features used by this app are not supported by your browser, so it may not be fully functional.</div>

<script src="/modernizr.js"></script>

<script>
  (function() {
    const keys = Object.keys(Modernizr)

    for (var i = 0; i < keys.length; i++) {
      if (Modernizr[keys[i]] === false) {
        document.getElementById('feature-support').style.display = 'block';

        if (console && typeof console.warn === 'function') {
          console.warn(keys[i] + ' is not supported');
        }
      }
    }
  })();
</script>
<% } %>

<!-- main script is inserted here -->
</body>
</html>
